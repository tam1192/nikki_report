# commit: first_commit
この記事はgitを用いながらrustでプログラムを書いてみよう
っていう記事です。

## 使ってる環境
- macOS Sequoia
- vscode
- git 2.39.5 (Apple Git-154)
- rustc 1.83.0 (90b35a623 2024-11-26)
- cargo 1.83.0 (5ffbef321 2024-10-29)
- github

## 詳しく説明しないこと
- unixのコマンド(もしくはpwsh,cmdのコマンド)

## 無駄に詳しく説明すること
- rustの知識(ある意味rust布教記事でもある)

# commit: cargo initを実行
開発環境をセットアップして、最初のコミットをしよう。

## localリポジトリをセットアップ

rustのプロジェクトを作ります。
とりあえずディレクトリを作成してそこに移動

```
cargo init .
```
を実行すると、いい感じにセットアップしてくれます。
```
.
├── Cargo.toml
└── src
    └── main.rs

```

この時点ですでに、gitのローカルリポジトリがセットアップされています。

#### 補足
cargoというのは、rust開発者を支援するツールです。
rust以外だと、cmake(c言語)、gradle(Java,Kotlin)、npm(nodejs)などがあります。

これらのツールは基本的に、外部ライブラリの整理(インストール)、ビルド支援（プログラム間の連携）をしてくれるわけです。

## githubにアクセスできるようにする

github上にリポジトリを作りましょう。

`git remote add`
する方法もあり、学びとしてはそっちの方が深いのですが、
正直こっちの方が楽

https://cli.github.com

一度githubのアカウントを作成しておけば、CLI上でログインするだけでgithubの機能をコマンド上からアクセス可能です。

**sshの鍵登録も不要！**

インストール後、
```
gh auth login --web
```
コマンドでgithubにログインします。

## githubにリポジトリを登録
一度ghコマンドを使えるようにすると、以降次の手順でgithubにリポジトリを作成可能です。

```
gh repo create 
```
対話式で様々な質問が出てきます。
```
What would you like to do? 
```
一番最初の質問で三択出てきますが
```
Push an existing local repository to GitHub
```
(存在しているローカルリポジトリを、githubにpushする)
を選択します。

その後はenter連打でいけます。

#### 注意
Visibility をprivateにすると、非公開になります。公開するのが怖い場合は注意してください。

## コミットする
ここまできたらコミットします。

### コミットって何？
例えば、[blenderでサイコロを作る](https://blender-cg.net/dice/)とき...

![figure01:さいころを作る手順図](./figure/figure01.png)

上からステップごとに分かれていて、作業ステップが変わる度に
`git commmit -m <ここにコミットメッセージ>`
というコマンドを入力します。
こうすることで、ファイルをいじった時、ファイルの変更にメッセージをつけて記録しておくことができます。

### コミット頻度はどうしよう
例えば、サイコロの形に変更が入った時...

![figure02:変更したさいころの手順書](./figure/figure02.png)

`git log`をたとって、あるコミットから分岐させることが可能になります。
（分岐の方法については後で記載します）

そう考えると、次の考え方ができます。
- コミット間に加えた変化が多いほど、戻しづらくなる
- しかし、コミットが多いほど、今度はログが見辛くなる

（例えば、サイコロの穴を開ける時、穴一つ一つ毎にコミットすれば、20コミット増えます）

しかも、`git log`した時、得られる情報はメッセージのみです。
![figure03:手順書(文字列のみ)](./figure/figure03.png)
そう考えると、
- コミットメッセージは丁寧にした方が良い
  
となるわけです。


コミットの頻度についてはこれらの記事が参考になると思います。
https://qiita.com/kozyty@github/items/87fa95a236b6142f7c10
https://qiita.com/jnchito/items/40e0c7d32fde352607be

...参考にしてるのかよく分からないですが、
今回は **「変更が一行で説明できる範囲内で１コミット」** を目標に
頑張ります。

### ところで
先に言っておきますと、blenderでもgitは使えます。（blenderにターミナルついてないから相性は良くないかもだけど）
何なら、パワポ、ワード、エクセルといった3種の仁義、
その他etc...

gitのメリットの一つ **バイナリファイルが扱える** です。

(この記事も下敷きはgit使ってます)

## 